ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"modem.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.process_serial_frame.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 72656365 		.ascii	"received resp with unexpected tag_id (%i vs %i)\000"
  20      69766564 
  20      20726573 
  20      70207769 
  20      74682075 
  21              		.align	2
  22              	.LC1:
  23 0030 2E2E2F2E 		.ascii	"../../../shields/Murata-dualstack/inc/d7ap.h\000"
  23      2E2F2E2E 
  23      2F736869 
  23      656C6473 
  23      2F4D7572 
  24 005d 000000   		.align	2
  25              	.LC2:
  26 0060 756E6B6E 		.ascii	"unknown serial frame\015\000"
  26      6F776E20 
  26      73657269 
  26      616C2066 
  26      72616D65 
  27              		.section	.text.process_serial_frame,"ax",%progbits
  28              		.align	1
  29              		.arch armv7e-m
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  33              		.fpu fpv4-sp-d16
  35              	process_serial_frame:
  36              	.LVL0:
  37              	.LFB127:
  38              		.file 1 "../../../shields/Murata-dualstack/src/modem.c"
   1:../../../shields/Murata-dualstack/src/modem.c **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   2:../../../shields/Murata-dualstack/src/modem.c ****  * lowpower wireless sensor communication
   3:../../../shields/Murata-dualstack/src/modem.c ****  *
   4:../../../shields/Murata-dualstack/src/modem.c ****  * Copyright 2015 University of Antwerp
   5:../../../shields/Murata-dualstack/src/modem.c ****  *
   6:../../../shields/Murata-dualstack/src/modem.c ****  * Licensed under the Apache License, Version 2.0 (the "License");
   7:../../../shields/Murata-dualstack/src/modem.c ****  * you may not use this file except in compliance with the License.
   8:../../../shields/Murata-dualstack/src/modem.c ****  * You may obtain a copy of the License at
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 2


   9:../../../shields/Murata-dualstack/src/modem.c ****  *
  10:../../../shields/Murata-dualstack/src/modem.c ****  *   http://www.apache.org/licenses/LICENSE-2.0
  11:../../../shields/Murata-dualstack/src/modem.c ****  *
  12:../../../shields/Murata-dualstack/src/modem.c ****  * Unless required by applicable law or agreed to in writing, software
  13:../../../shields/Murata-dualstack/src/modem.c ****  * distributed under the License is distributed on an "AS IS" BASIS,
  14:../../../shields/Murata-dualstack/src/modem.c ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:../../../shields/Murata-dualstack/src/modem.c ****  * See the License for the specific language governing permissions and
  16:../../../shields/Murata-dualstack/src/modem.c ****  * limitations under the License.
  17:../../../shields/Murata-dualstack/src/modem.c ****  */
  18:../../../shields/Murata-dualstack/src/modem.c **** 
  19:../../../shields/Murata-dualstack/src/modem.c **** #include "modem.h"
  20:../../../shields/Murata-dualstack/src/modem.c **** //#include "debug.h"
  21:../../../shields/Murata-dualstack/src/modem.c **** //#include "log.h"
  22:../../../shields/Murata-dualstack/src/modem.c **** #include "errors.h"
  23:../../../shields/Murata-dualstack/src/modem.c **** #include "fifo.h"
  24:../../../shields/Murata-dualstack/src/modem.c **** #include "alp.h"
  25:../../../shields/Murata-dualstack/src/modem.c **** //#include "scheduler.h"
  26:../../../shields/Murata-dualstack/src/modem.c **** //#include "timer.h"
  27:../../../shields/Murata-dualstack/src/modem.c **** #include "d7ap.h"
  28:../../../shields/Murata-dualstack/src/modem.c **** #include <stdio.h>
  29:../../../shields/Murata-dualstack/src/modem.c **** #include <stdlib.h>
  30:../../../shields/Murata-dualstack/src/modem.c **** //#include "platform.h"
  31:../../../shields/Murata-dualstack/src/modem.c **** #include "modem_interface.h"
  32:../../../shields/Murata-dualstack/src/modem.c **** #include "stm32l4xx_hal.h"
  33:../../../shields/Murata-dualstack/src/modem.c **** 
  34:../../../shields/Murata-dualstack/src/modem.c **** #define RX_BUFFER_SIZE 256
  35:../../../shields/Murata-dualstack/src/modem.c **** #define CMD_BUFFER_SIZE 256
  36:../../../shields/Murata-dualstack/src/modem.c **** 
  37:../../../shields/Murata-dualstack/src/modem.c **** #if defined(FRAMEWORK_LOG_ENABLED) && defined(FRAMEWORK_MODEM_LOG_ENABLED)
  38:../../../shields/Murata-dualstack/src/modem.c ****   #define DPRINT(...) log_print_string(__VA_ARGS__)
  39:../../../shields/Murata-dualstack/src/modem.c ****   #define DPRINT_DATA(...) log_print_data(__VA_ARGS__)
  40:../../../shields/Murata-dualstack/src/modem.c **** #else
  41:../../../shields/Murata-dualstack/src/modem.c ****     #define DPRINT(...)
  42:../../../shields/Murata-dualstack/src/modem.c ****     #define DPRINT_DATA(...)
  43:../../../shields/Murata-dualstack/src/modem.c **** #endif
  44:../../../shields/Murata-dualstack/src/modem.c **** 
  45:../../../shields/Murata-dualstack/src/modem.c **** 
  46:../../../shields/Murata-dualstack/src/modem.c **** typedef struct {
  47:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t tag_id;
  48:../../../shields/Murata-dualstack/src/modem.c ****   bool is_active;
  49:../../../shields/Murata-dualstack/src/modem.c ****   fifo_t fifo;
  50:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t buffer[256];
  51:../../../shields/Murata-dualstack/src/modem.c **** } command_t;
  52:../../../shields/Murata-dualstack/src/modem.c **** 
  53:../../../shields/Murata-dualstack/src/modem.c **** static modem_callbacks_t* callbacks;
  54:../../../shields/Murata-dualstack/src/modem.c **** static uint8_t rx_buffer[RX_BUFFER_SIZE];
  55:../../../shields/Murata-dualstack/src/modem.c **** static command_t command; // TODO only one active command supported for now
  56:../../../shields/Murata-dualstack/src/modem.c **** static uint8_t next_tag_id = 0;
  57:../../../shields/Murata-dualstack/src/modem.c **** static bool parsed_header = false;
  58:../../../shields/Murata-dualstack/src/modem.c **** static uint8_t payload_len = 0;
  59:../../../shields/Murata-dualstack/src/modem.c **** extern fifo_t rx_fifo;
  60:../../../shields/Murata-dualstack/src/modem.c **** 
  61:../../../shields/Murata-dualstack/src/modem.c **** static void process_serial_frame(fifo_t* fifo) {
  39              		.loc 1 61 48 view -0
  40              		.cfi_startproc
  41              		@ args = 0, pretend = 0, frame = 296
  42              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 3


  43              		.loc 1 61 48 is_stmt 0 view .LVU1
  44 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 20
  47              		.cfi_offset 4, -20
  48              		.cfi_offset 5, -16
  49              		.cfi_offset 6, -12
  50              		.cfi_offset 7, -8
  51              		.cfi_offset 14, -4
  52 0002 CBB0     		sub	sp, sp, #300
  53              	.LCFI1:
  54              		.cfi_def_cfa_offset 320
  55 0004 0446     		mov	r4, r0
  62:../../../shields/Murata-dualstack/src/modem.c ****   bool command_completed = false;
  56              		.loc 1 62 3 is_stmt 1 view .LVU2
  57              	.LVL1:
  63:../../../shields/Murata-dualstack/src/modem.c ****   bool completed_with_error = false;
  58              		.loc 1 63 3 view .LVU3
  64:../../../shields/Murata-dualstack/src/modem.c ****   while(fifo_get_size(fifo)) {
  59              		.loc 1 64 3 view .LVU4
  63:../../../shields/Murata-dualstack/src/modem.c ****   bool completed_with_error = false;
  60              		.loc 1 63 8 is_stmt 0 view .LVU5
  61 0006 0026     		movs	r6, #0
  62:../../../shields/Murata-dualstack/src/modem.c ****   bool command_completed = false;
  62              		.loc 1 62 8 view .LVU6
  63 0008 3746     		mov	r7, r6
  64              		.loc 1 64 8 view .LVU7
  65 000a 44E0     		b	.L2
  66              	.LVL2:
  67              	.L4:
  68              	.LBB6:
  65:../../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
  66:../../../shields/Murata-dualstack/src/modem.c ****     alp_parse_action(fifo, &action);
  67:../../../shields/Murata-dualstack/src/modem.c **** 
  68:../../../shields/Murata-dualstack/src/modem.c ****     switch(action.operation) {
  69:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
  70:../../../shields/Murata-dualstack/src/modem.c ****         if(action.tag_response.tag_id == command.tag_id) {
  69              		.loc 1 70 9 is_stmt 1 view .LVU8
  70              		.loc 1 70 31 is_stmt 0 view .LVU9
  71 000c 9DF81E10 		ldrb	r1, [sp, #30]	@ zero_extendqisi2
  72              		.loc 1 70 49 view .LVU10
  73 0010 504B     		ldr	r3, .L19
  74 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  75              		.loc 1 70 11 view .LVU11
  76 0014 9142     		cmp	r1, r2
  77 0016 04D1     		bne	.L9
  71:../../../shields/Murata-dualstack/src/modem.c ****           command_completed = action.tag_response.completed;
  78              		.loc 1 71 11 is_stmt 1 view .LVU12
  79              		.loc 1 71 29 is_stmt 0 view .LVU13
  80 0018 9DF81C70 		ldrb	r7, [sp, #28]	@ zero_extendqisi2
  81              	.LVL3:
  72:../../../shields/Murata-dualstack/src/modem.c ****           completed_with_error = action.tag_response.error;
  82              		.loc 1 72 11 is_stmt 1 view .LVU14
  83              		.loc 1 72 32 is_stmt 0 view .LVU15
  84 001c 9DF81D60 		ldrb	r6, [sp, #29]	@ zero_extendqisi2
  85              	.LVL4:
  86              		.loc 1 72 32 view .LVU16
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 4


  87 0020 39E0     		b	.L2
  88              	.L9:
  73:../../../shields/Murata-dualstack/src/modem.c ****         } else {
  74:../../../shields/Murata-dualstack/src/modem.c ****           printf("received resp with unexpected tag_id (%i vs %i)", action.tag_response.tag_id, com
  89              		.loc 1 74 11 is_stmt 1 view .LVU17
  90 0022 4D48     		ldr	r0, .L19+4
  91 0024 FFF7FEFF 		bl	printf
  92              	.LVL5:
  93 0028 35E0     		b	.L2
  94              	.L8:
  75:../../../shields/Murata-dualstack/src/modem.c ****           // TODO unsolicited responses
  76:../../../shields/Murata-dualstack/src/modem.c ****         }
  77:../../../shields/Murata-dualstack/src/modem.c ****         break;
  78:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_WRITE_FILE_DATA:
  79:../../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->write_file_data_callback)
  95              		.loc 1 79 9 view .LVU18
  96              		.loc 1 79 21 is_stmt 0 view .LVU19
  97 002a 4C4B     		ldr	r3, .L19+8
  98 002c 1B68     		ldr	r3, [r3]
  99 002e DD68     		ldr	r5, [r3, #12]
 100              		.loc 1 79 11 view .LVU20
 101 0030 002D     		cmp	r5, #0
 102 0032 30D0     		beq	.L2
  80:../../../shields/Murata-dualstack/src/modem.c ****           callbacks->write_file_data_callback(action.file_data_operand.file_offset.file_id,
 103              		.loc 1 80 11 is_stmt 1 view .LVU21
 104 0034 0AAB     		add	r3, sp, #40
 105 0036 099A     		ldr	r2, [sp, #36]
 106 0038 0899     		ldr	r1, [sp, #32]
 107 003a 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
 108 003e A847     		blx	r5
 109              	.LVL6:
 110 0040 29E0     		b	.L2
 111              	.L7:
  81:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
  82:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  83:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.data);
  84:../../../shields/Murata-dualstack/src/modem.c ****         break;
  85:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_FILE_DATA:
  86:../../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->return_file_data_callback)
 112              		.loc 1 86 9 view .LVU22
 113              		.loc 1 86 21 is_stmt 0 view .LVU23
 114 0042 464B     		ldr	r3, .L19+8
 115 0044 1B68     		ldr	r3, [r3]
 116 0046 9D68     		ldr	r5, [r3, #8]
 117              		.loc 1 86 11 view .LVU24
 118 0048 2DB3     		cbz	r5, .L2
  87:../../../shields/Murata-dualstack/src/modem.c ****           callbacks->return_file_data_callback(action.file_data_operand.file_offset.file_id,
 119              		.loc 1 87 11 is_stmt 1 view .LVU25
 120 004a 0AAB     		add	r3, sp, #40
 121 004c 099A     		ldr	r2, [sp, #36]
 122 004e 0899     		ldr	r1, [sp, #32]
 123 0050 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
 124 0054 A847     		blx	r5
 125              	.LVL7:
 126 0056 1EE0     		b	.L2
 127              	.L6:
  88:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 5


  89:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  90:../../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.data);
  91:../../../shields/Murata-dualstack/src/modem.c ****         break;
  92:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_STATUS:
  93:../../../shields/Murata-dualstack/src/modem.c ****         if(action.status.type==ALP_ITF_ID_D7ASP)
 128              		.loc 1 93 9 view .LVU26
 129              		.loc 1 93 25 is_stmt 0 view .LVU27
 130 0058 9DF81C31 		ldrb	r3, [sp, #284]	@ zero_extendqisi2
 131              		.loc 1 93 11 view .LVU28
 132 005c D72B     		cmp	r3, #215
 133 005e 08D0     		beq	.L17
 134              	.L11:
  94:../../../shields/Murata-dualstack/src/modem.c ****         {
  95:../../../shields/Murata-dualstack/src/modem.c ****           d7ap_session_result_t interface_status = *((d7ap_session_result_t*)action.status.data);
  96:../../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
  97:../../../shields/Murata-dualstack/src/modem.c ****           //printf("received resp from: ");
  98:../../../shields/Murata-dualstack/src/modem.c ****           //printf(interface_status.addressee.id, addressee_len);
  99:../../../shields/Murata-dualstack/src/modem.c ****         }
 100:../../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->modem_interface_status_callback)
 135              		.loc 1 100 9 is_stmt 1 view .LVU29
 136              		.loc 1 100 21 is_stmt 0 view .LVU30
 137 0060 3E4B     		ldr	r3, .L19+8
 138 0062 1B68     		ldr	r3, [r3]
 139 0064 5B68     		ldr	r3, [r3, #4]
 140              		.loc 1 100 11 view .LVU31
 141 0066 B3B1     		cbz	r3, .L2
 101:../../../shields/Murata-dualstack/src/modem.c ****           callbacks->modem_interface_status_callback(action.status.type,&action.status.data);
 142              		.loc 1 101 11 is_stmt 1 view .LVU32
 143 0068 07A9     		add	r1, sp, #28
 144 006a 9DF81C01 		ldrb	r0, [sp, #284]	@ zero_extendqisi2
 145 006e 9847     		blx	r3
 146              	.LVL8:
 147 0070 11E0     		b	.L2
 148              	.L17:
 149              	.LBB7:
  95:../../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 150              		.loc 1 95 11 view .LVU33
  95:../../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 151              		.loc 1 95 33 is_stmt 0 view .LVU34
 152 0072 6D46     		mov	r5, sp
 153 0074 0DF11C0C 		add	ip, sp, #28
 154 0078 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 155 007c 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 156 007e 9CE80300 		ldm	ip, {r0, r1}
 157 0082 45F8040B 		str	r0, [r5], #4
 158 0086 25F8021B 		strh	r1, [r5], #2	@ movhi
 159 008a 090C     		lsrs	r1, r1, #16
 160 008c 2970     		strb	r1, [r5]
  96:../../../shields/Murata-dualstack/src/modem.c ****           //printf("received resp from: ");
 161              		.loc 1 96 11 is_stmt 1 view .LVU35
 162              	.LVL9:
 163              	.LBB8:
 164              	.LBI8:
 165              		.file 2 "../../../shields/Murata-dualstack/inc/d7ap.h"
   1:../../../shields/Murata-dualstack/inc/d7ap.h **** 
   2:../../../shields/Murata-dualstack/inc/d7ap.h **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   3:../../../shields/Murata-dualstack/inc/d7ap.h ****  * lowpower wireless sensor communication
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 6


   4:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
   5:../../../shields/Murata-dualstack/inc/d7ap.h ****  * Copyright 2018 University of Antwerp
   6:../../../shields/Murata-dualstack/inc/d7ap.h ****  * Copyright 2018 CORTUS SA
   7:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
   8:../../../shields/Murata-dualstack/inc/d7ap.h ****  * Licensed under the Apache License, Version 2.0 (the "License");
   9:../../../shields/Murata-dualstack/inc/d7ap.h ****  * you may not use this file except in compliance with the License.
  10:../../../shields/Murata-dualstack/inc/d7ap.h ****  * You may obtain a copy of the License at
  11:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
  12:../../../shields/Murata-dualstack/inc/d7ap.h ****  *   http://www.apache.org/licenses/LICENSE-2.0
  13:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
  14:../../../shields/Murata-dualstack/inc/d7ap.h ****  * Unless required by applicable law or agreed to in writing, software
  15:../../../shields/Murata-dualstack/inc/d7ap.h ****  * distributed under the License is distributed on an "AS IS" BASIS,
  16:../../../shields/Murata-dualstack/inc/d7ap.h ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17:../../../shields/Murata-dualstack/inc/d7ap.h ****  * See the License for the specific language governing permissions and
  18:../../../shields/Murata-dualstack/inc/d7ap.h ****  * limitations under the License.
  19:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
  20:../../../shields/Murata-dualstack/inc/d7ap.h ****  * \author philippe.nunes@cortus.com
  21:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
  22:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  23:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
  24:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @file d7ap.h
  25:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @addtogroup d7ap
  26:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @ingroup framework
  27:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @{
  28:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief D7AP public types (used for modem and/or D7AP stack itself)
  29:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
  30:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
  31:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  32:../../../shields/Murata-dualstack/inc/d7ap.h **** #ifndef D7AP_H
  33:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7AP_H
  34:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  35:../../../shields/Murata-dualstack/inc/d7ap.h **** #include "types.h"
  36:../../../shields/Murata-dualstack/inc/d7ap.h **** #include "assert.h"
  37:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  38:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7AP_MAX_CLIENT_COUNT 8
  39:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  40:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_UID_FILE_ID 0x00
  41:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_UID_SIZE 8
  42:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  43:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_FILE_ID 0x02
  44:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE 6
  45:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_GIT_SHA1_SIZE 7
  46:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_SIZE (2 + D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE + D7A_FILE_FIRM
  47:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  48:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_FILE_ID	0x0A
  49:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_SIZE		6
  50:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  51:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_ID 0x20 // the first access class file
  52:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_SIZE 65
  53:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_COUNT 15
  54:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  55:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY		0x0D
  56:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_SIZE	5
  57:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  58:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY		0x0E
  59:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY_SIZE	16
  60:../../../shields/Murata-dualstack/inc/d7ap.h **** 
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 7


  61:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG			0x0F
  62:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG_SIZE	2 + (FRAMEWORK_FS_TRUSTED_NODE_TABLE_SIZE)*(D7A_FILE_N
  63:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  64:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  65:../../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_NBID_ID_LENGTH 1
  66:../../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_NOID_ID_LENGTH 0
  67:../../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_UID_ID_LENGTH   8
  68:../../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_VID_LENGTH      2
  69:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  70:../../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_IS_BROADCAST(id_type) (id_type == ID_TYPE_NBID || id_type == ID_TYPE_NOID)
  71:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  72:../../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_PAYLOAD_MAX_SIZE 239 // TODO confirm this value when FEC and security are disabled
  73:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  74:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  75:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum {
  76:../../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_NBID = 0,
  77:../../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_NOID = 1,
  78:../../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_UID = 2,
  79:../../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_VID = 3
  80:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_id_type_t;
  81:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  82:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum
  83:../../../shields/Murata-dualstack/inc/d7ap.h **** {
  84:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_NONE = 0, /* No security */
  85:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CTR = 0x01, /* data confidentiality */
  86:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_128 = 0x02, /* data authenticity */
  87:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_64 = 0x03, /* data authenticity */
  88:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_32 = 0x04, /* data authenticity */
  89:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_128 = 0x05, /* data confidentiality and authenticity*/
  90:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_64 = 0x06, /* data confidentiality and authenticity*/
  91:../../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_32 = 0x07, /* data confidentiality and authenticity*/
  92:../../../shields/Murata-dualstack/inc/d7ap.h **** } nls_method_t;
  93:../../../shields/Murata-dualstack/inc/d7ap.h **** 
  94:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
  95:../../../shields/Murata-dualstack/inc/d7ap.h ****     union {
  96:../../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
  97:../../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
  98:../../../shields/Murata-dualstack/inc/d7ap.h ****             nls_method_t nls_method : 4;
  99:../../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_addressee_id_type_t id_type : 2;
 100:../../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t _rfu : 2;
 101:../../../shields/Murata-dualstack/inc/d7ap.h ****         };
 102:../../../shields/Murata-dualstack/inc/d7ap.h ****     };
 103:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_ctrl_t;
 104:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 105:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 106:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_ctrl_t ctrl;
 107:../../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 108:../../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t access_class;
 109:../../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 110:../../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t access_mask : 4;
 111:../../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t access_specifier : 4;
 112:../../../shields/Murata-dualstack/inc/d7ap.h ****         };
 113:../../../shields/Murata-dualstack/inc/d7ap.h ****     };
 114:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t id[8]; // TODO assuming 8 byte id for now
 115:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_t;
 116:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 117:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 8


 118:../../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 119:../../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
 120:../../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 121:../../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t _rfu : 4;
 122:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool ucast : 1;
 123:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool retry : 1;
 124:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool missed : 1;
 125:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool nls : 1;
 126:../../../shields/Murata-dualstack/inc/d7ap.h ****         };
 127:../../../shields/Murata-dualstack/inc/d7ap.h ****     };
 128:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_sp_state_t;
 129:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 130:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct
 131:../../../shields/Murata-dualstack/inc/d7ap.h **** {
 132:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t channel_header;         /**< PHY layer channel header */
 133:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint16_t center_freq_index;     /**< The center frequency index of the channel id */
 134:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_channel_t;
 135:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 136:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 137:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_channel_t channel;
 138:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t rx_level;
 139:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t link_budget;
 140:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t link_quality;
 141:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t target_rx_level;
 142:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_sp_state_t status;
 143:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t fifo_token;
 144:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t seqnr;
 145:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t response_to;
 146:../../../shields/Murata-dualstack/inc/d7ap.h ****     bool response_expected;
 147:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_t addressee;
 148:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_result_t;
 149:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 150:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum  {
 151:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_NO = 0,
 152:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ALL = 1,
 153:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ANY = 2,
 154:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_NO_RPT = 4,
 155:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ON_ERR = 5,
 156:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_PREFERRED = 6,
 157:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_resp_mode_t;
 158:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 159:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum {
 160:../../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RETRY_MODE_NO = 0
 161:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_retry_mode_t;
 162:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 163:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
 164:../../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 165:../../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
 166:../../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 167:../../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_session_resp_mode_t qos_resp_mode : 3;
 168:../../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_session_retry_mode_t qos_retry_mode: 3;
 169:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool qos_record : 1;
 170:../../../shields/Murata-dualstack/inc/d7ap.h ****             bool qos_stop_on_error : 1;
 171:../../../shields/Murata-dualstack/inc/d7ap.h ****         };
 172:../../../shields/Murata-dualstack/inc/d7ap.h ****     };
 173:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_qos_t;
 174:../../../shields/Murata-dualstack/inc/d7ap.h **** 
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 9


 175:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
 176:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_session_qos_t qos;
 177:../../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t dormant_timeout;
 178:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_t addressee;
 179:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_config_t;
 180:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 181:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef void (*d7ap_receive_callback)(uint16_t trans_id, uint8_t* payload, uint8_t len, d7ap_sessio
 182:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 183:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief Called when the stack received an unsolicited message
 184:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @returns true when the unsolicited request will result in a response payload from the upper laye
 185:../../../shields/Murata-dualstack/inc/d7ap.h ****  * the upper layer should return false, so the stack can respond with an ack immediately (if reques
 186:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 187:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef bool (*d7ap_receive_unsolicited_callback)(uint8_t* payload, uint8_t len, d7ap_session_resul
 188:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef void (*d7ap_transmitted_callback)(uint16_t trans_id, error_t error);
 189:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 190:../../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct{
 191:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_receive_callback  receive_cb;                /*< receive callback,
 192:../../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, all message received for clientI
 193:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_transmitted_callback transmitted_cb;         /*< send completion callback,
 194:../../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
 195:../../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_receive_unsolicited_callback unsolicited_cb; /*< unsolicited data callback,
 196:../../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
 197:../../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_resource_desc_t;
 198:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 199:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 200:../../../shields/Murata-dualstack/inc/d7ap.h **** //=========================== prototypes ======================================
 201:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 202:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Initializes d7a module
 203:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 204:../../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_init(void);
 205:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 206:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 207:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 208:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Register the client callbacks
 209:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 210:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] desc pointer to the client resource
 211:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 212:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  the client Id
 213:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 214:../../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_register(d7ap_resource_desc_t* desc);
 215:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 216:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 217:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 218:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the device address UID/VID
 219:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 220:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[out] *addr   Pointer to the device addressee UID/VID
 221:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 222:../../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_get_dev_addr(d7ap_addressee_t* addr);
 223:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 224:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 225:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 226:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief Get the maximum payload size.
 227:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 228:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] clientId  The d7A  instance Id.
 229:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 230:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @returns the maximum payload size in bytes.
 231:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 10


 232:../../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_payload_max_size(uint8_t clientId);
 233:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 234:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 235:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 236:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Send a packet over DASH7 network
 237:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 238:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] clientID  The registered client Id
 239:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] config    The configuration for the d7a session. Set to NULL to use the current confi
 240:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] payload   The pointer to the payload buffer
 241:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] len       The length of the payload
 242:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] expected_response_len The length of the expected response
 243:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in,out] trans_id   Set the value of this parameter to NULL to cause the function to execu
 244:../../../shields/Murata-dualstack/inc/d7ap.h ****  *                           If this parameter is not NULL, the call executes asynchronously. Upon 
 245:../../../shields/Murata-dualstack/inc/d7ap.h ****  *                           this points to the transaction identifier associated with the asynchro
 246:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return 0 on success
 247:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return an error (errno.h) in case of failure
 248:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 249:../../../shields/Murata-dualstack/inc/d7ap.h **** error_t d7ap_send(uint8_t clientId, d7ap_session_config_t* config, uint8_t* payload,
 250:../../../shields/Murata-dualstack/inc/d7ap.h ****                    uint8_t len, uint8_t expected_response_len, uint16_t* trans_id);
 251:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 252:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 253:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 254:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Sets the channels TX power index
 255:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 256:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] power  The TX power index (from 1 to 16)
 257:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 258:../../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_set_tx_power(uint8_t power);
 259:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 260:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 261:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 262:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the channels TX power index
 263:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 264:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The TX power index (from 1 to 16)
 265:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 266:../../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_tx_power(void);
 267:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 268:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 269:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 270:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Sets the device access class
 271:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 272:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] access_class  The device access class
 273:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 274:../../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_set_access_class(uint8_t access_class);
 275:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 276:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 277:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 278:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the device access class
 279:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 280:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The device access class
 281:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 282:../../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_access_class(void);
 283:../../../shields/Murata-dualstack/inc/d7ap.h **** 
 284:../../../shields/Murata-dualstack/inc/d7ap.h **** /**
 285:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the length of the addressee Id
 286:../../../shields/Murata-dualstack/inc/d7ap.h ****  *
 287:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] id_type  The addressee Id type
 288:../../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The length of the addressee Id according the addressee Id type
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 11


 289:../../../shields/Murata-dualstack/inc/d7ap.h ****  */
 290:../../../shields/Murata-dualstack/inc/d7ap.h **** static inline uint8_t d7ap_addressee_id_length(d7ap_addressee_id_type_t id_type) {
 166              		.loc 2 290 23 view .LVU36
 167              	.LBB9:
 291:../../../shields/Murata-dualstack/inc/d7ap.h ****   switch(id_type)
 168              		.loc 2 291 3 view .LVU37
 169 008e E7E7     		b	.L11
 170              	.L3:
 171              		.loc 2 291 3 is_stmt 0 view .LVU38
 172              	.LBE9:
 173              	.LBE8:
 174              	.LBE7:
 102:../../../shields/Murata-dualstack/src/modem.c ****         break;
 103:../../../shields/Murata-dualstack/src/modem.c ****       default:
 104:../../../shields/Murata-dualstack/src/modem.c ****         printf("unknown serial frame\r\n");
 175              		.loc 1 104 9 is_stmt 1 view .LVU39
 176 0090 3348     		ldr	r0, .L19+12
 177 0092 FFF7FEFF 		bl	puts
 178              	.LVL10:
 179              	.L2:
 180              		.loc 1 104 9 is_stmt 0 view .LVU40
 181              	.LBE6:
  64:../../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
 182              		.loc 1 64 8 is_stmt 1 view .LVU41
  64:../../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
 183              		.loc 1 64 9 is_stmt 0 view .LVU42
 184 0096 2046     		mov	r0, r4
 185 0098 FFF7FEFF 		bl	fifo_get_size
 186              	.LVL11:
  64:../../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
 187              		.loc 1 64 8 view .LVU43
 188 009c 0028     		cmp	r0, #0
 189 009e 4BD0     		beq	.L18
 190              	.LBB10:
  65:../../../shields/Murata-dualstack/src/modem.c ****     alp_parse_action(fifo, &action);
 191              		.loc 1 65 5 is_stmt 1 view .LVU44
  66:../../../shields/Murata-dualstack/src/modem.c **** 
 192              		.loc 1 66 5 view .LVU45
 193 00a0 06A9     		add	r1, sp, #24
 194 00a2 2046     		mov	r0, r4
 195 00a4 FFF7FEFF 		bl	alp_parse_action
 196              	.LVL12:
  68:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
 197              		.loc 1 68 5 view .LVU46
  68:../../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
 198              		.loc 1 68 18 is_stmt 0 view .LVU47
 199 00a8 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 200 00ac 043B     		subs	r3, r3, #4
 201 00ae 1F2B     		cmp	r3, #31
 202 00b0 EED8     		bhi	.L3
 203 00b2 01A2     		adr	r2, .L5
 204 00b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 205              		.p2align 2
 206              	.L5:
 207 00b8 2B000000 		.word	.L8+1
 208 00bc 91000000 		.word	.L3+1
 209 00c0 91000000 		.word	.L3+1
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 12


 210 00c4 91000000 		.word	.L3+1
 211 00c8 91000000 		.word	.L3+1
 212 00cc 91000000 		.word	.L3+1
 213 00d0 91000000 		.word	.L3+1
 214 00d4 91000000 		.word	.L3+1
 215 00d8 91000000 		.word	.L3+1
 216 00dc 91000000 		.word	.L3+1
 217 00e0 91000000 		.word	.L3+1
 218 00e4 91000000 		.word	.L3+1
 219 00e8 91000000 		.word	.L3+1
 220 00ec 91000000 		.word	.L3+1
 221 00f0 91000000 		.word	.L3+1
 222 00f4 91000000 		.word	.L3+1
 223 00f8 91000000 		.word	.L3+1
 224 00fc 91000000 		.word	.L3+1
 225 0100 91000000 		.word	.L3+1
 226 0104 91000000 		.word	.L3+1
 227 0108 91000000 		.word	.L3+1
 228 010c 91000000 		.word	.L3+1
 229 0110 91000000 		.word	.L3+1
 230 0114 91000000 		.word	.L3+1
 231 0118 91000000 		.word	.L3+1
 232 011c 91000000 		.word	.L3+1
 233 0120 91000000 		.word	.L3+1
 234 0124 91000000 		.word	.L3+1
 235 0128 43000000 		.word	.L7+1
 236 012c 91000000 		.word	.L3+1
 237 0130 59000000 		.word	.L6+1
 238 0134 0D000000 		.word	.L4+1
 239              		.p2align 1
 240              	.L18:
 241              	.LBE10:
 105:../../../shields/Murata-dualstack/src/modem.c ****         //assert(false);
 106:../../../shields/Murata-dualstack/src/modem.c ****     }
 107:../../../shields/Murata-dualstack/src/modem.c ****   }
 108:../../../shields/Murata-dualstack/src/modem.c **** 
 109:../../../shields/Murata-dualstack/src/modem.c **** 
 110:../../../shields/Murata-dualstack/src/modem.c ****   if(command_completed) {
 242              		.loc 1 110 3 is_stmt 1 view .LVU48
 243              		.loc 1 110 5 is_stmt 0 view .LVU49
 244 0138 57B1     		cbz	r7, .L1
 111:../../../shields/Murata-dualstack/src/modem.c ****     DPRINT("LoRaWAN modem command with tag %i completed ", command.tag_id);
 245              		.loc 1 111 75 is_stmt 1 view .LVU50
 112:../../../shields/Murata-dualstack/src/modem.c ****     if(callbacks->command_completed_callback)
 246              		.loc 1 112 5 view .LVU51
 247              		.loc 1 112 17 is_stmt 0 view .LVU52
 248 013a 084B     		ldr	r3, .L19+8
 249 013c 1B68     		ldr	r3, [r3]
 250 013e 1B68     		ldr	r3, [r3]
 251              		.loc 1 112 7 view .LVU53
 252 0140 1BB1     		cbz	r3, .L15
 113:../../../shields/Murata-dualstack/src/modem.c ****       callbacks->command_completed_callback(completed_with_error,command.tag_id);
 253              		.loc 1 113 7 is_stmt 1 view .LVU54
 254 0142 044A     		ldr	r2, .L19
 255 0144 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 256 0146 3046     		mov	r0, r6
 257 0148 9847     		blx	r3
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 13


 258              	.LVL13:
 259              	.L15:
 114:../../../shields/Murata-dualstack/src/modem.c **** 
 115:../../../shields/Murata-dualstack/src/modem.c ****     command.is_active = false;
 260              		.loc 1 115 5 view .LVU55
 261              		.loc 1 115 23 is_stmt 0 view .LVU56
 262 014a 024B     		ldr	r3, .L19
 263 014c 0022     		movs	r2, #0
 264 014e 5A70     		strb	r2, [r3, #1]
 265              	.L1:
 116:../../../shields/Murata-dualstack/src/modem.c ****   }
 117:../../../shields/Murata-dualstack/src/modem.c **** 
 118:../../../shields/Murata-dualstack/src/modem.c **** }
 266              		.loc 1 118 1 view .LVU57
 267 0150 4BB0     		add	sp, sp, #300
 268              	.LCFI2:
 269              		.cfi_def_cfa_offset 20
 270              		@ sp needed
 271 0152 F0BD     		pop	{r4, r5, r6, r7, pc}
 272              	.LVL14:
 273              	.L20:
 274              		.loc 1 118 1 view .LVU58
 275              		.align	2
 276              	.L19:
 277 0154 00000000 		.word	.LANCHOR0
 278 0158 00000000 		.word	.LC0
 279 015c 00000000 		.word	.LANCHOR1
 280 0160 60000000 		.word	.LC2
 281              		.cfi_endproc
 282              	.LFE127:
 284              		.section	.text.modem_cb_init,"ax",%progbits
 285              		.align	1
 286              		.global	modem_cb_init
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu fpv4-sp-d16
 292              	modem_cb_init:
 293              	.LVL15:
 294              	.LFB128:
 119:../../../shields/Murata-dualstack/src/modem.c **** 
 120:../../../shields/Murata-dualstack/src/modem.c **** void modem_cb_init(modem_callbacks_t* cbs)
 121:../../../shields/Murata-dualstack/src/modem.c **** {
 295              		.loc 1 121 1 is_stmt 1 view -0
 296              		.cfi_startproc
 297              		@ args = 0, pretend = 0, frame = 0
 298              		@ frame_needed = 0, uses_anonymous_args = 0
 299              		.loc 1 121 1 is_stmt 0 view .LVU60
 300 0000 10B5     		push	{r4, lr}
 301              	.LCFI3:
 302              		.cfi_def_cfa_offset 8
 303              		.cfi_offset 4, -8
 304              		.cfi_offset 14, -4
 305 0002 0446     		mov	r4, r0
 122:../../../shields/Murata-dualstack/src/modem.c ****     command.is_active = false;
 306              		.loc 1 122 5 is_stmt 1 view .LVU61
 307              		.loc 1 122 23 is_stmt 0 view .LVU62
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 14


 308 0004 064B     		ldr	r3, .L24
 309 0006 0022     		movs	r2, #0
 310 0008 5A70     		strb	r2, [r3, #1]
 123:../../../shields/Murata-dualstack/src/modem.c ****     modem_interface_register_handler(&process_serial_frame, SERIAL_MESSAGE_TYPE_ALP_DATA);
 311              		.loc 1 123 5 is_stmt 1 view .LVU63
 312 000a 0121     		movs	r1, #1
 313 000c 0548     		ldr	r0, .L24+4
 314              	.LVL16:
 315              		.loc 1 123 5 is_stmt 0 view .LVU64
 316 000e FFF7FEFF 		bl	modem_interface_register_handler
 317              	.LVL17:
 124:../../../shields/Murata-dualstack/src/modem.c ****     callbacks = cbs;
 318              		.loc 1 124 5 is_stmt 1 view .LVU65
 319              		.loc 1 124 15 is_stmt 0 view .LVU66
 320 0012 054B     		ldr	r3, .L24+8
 321 0014 1C60     		str	r4, [r3]
 125:../../../shields/Murata-dualstack/src/modem.c ****     if(cbs->modem_rebooted_callback)
 322              		.loc 1 125 5 is_stmt 1 view .LVU67
 323              		.loc 1 125 11 is_stmt 0 view .LVU68
 324 0016 2069     		ldr	r0, [r4, #16]
 325              		.loc 1 125 7 view .LVU69
 326 0018 08B1     		cbz	r0, .L21
 126:../../../shields/Murata-dualstack/src/modem.c ****       modem_interface_set_target_rebooted_callback(cbs->modem_rebooted_callback);
 327              		.loc 1 126 7 is_stmt 1 view .LVU70
 328 001a FFF7FEFF 		bl	modem_interface_set_target_rebooted_callback
 329              	.LVL18:
 330              	.L21:
 127:../../../shields/Murata-dualstack/src/modem.c **** }
 331              		.loc 1 127 1 is_stmt 0 view .LVU71
 332 001e 10BD     		pop	{r4, pc}
 333              	.LVL19:
 334              	.L25:
 335              		.loc 1 127 1 view .LVU72
 336              		.align	2
 337              	.L24:
 338 0020 00000000 		.word	.LANCHOR0
 339 0024 00000000 		.word	process_serial_frame
 340 0028 00000000 		.word	.LANCHOR1
 341              		.cfi_endproc
 342              	.LFE128:
 344              		.section	.text.modem_process_fifo,"ax",%progbits
 345              		.align	1
 346              		.global	modem_process_fifo
 347              		.syntax unified
 348              		.thumb
 349              		.thumb_func
 350              		.fpu fpv4-sp-d16
 352              	modem_process_fifo:
 353              	.LFB129:
 128:../../../shields/Murata-dualstack/src/modem.c **** 
 129:../../../shields/Murata-dualstack/src/modem.c **** uint8_t modem_process_fifo()
 130:../../../shields/Murata-dualstack/src/modem.c **** {
 354              		.loc 1 130 1 is_stmt 1 view -0
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 0
 357              		@ frame_needed = 0, uses_anonymous_args = 0
 358 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 15


 359              	.LCFI4:
 360              		.cfi_def_cfa_offset 16
 361              		.cfi_offset 3, -16
 362              		.cfi_offset 4, -12
 363              		.cfi_offset 5, -8
 364              		.cfi_offset 14, -4
 131:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t retries = 0;
 365              		.loc 1 131 3 view .LVU74
 366              	.LVL20:
 132:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t status = 0;
 367              		.loc 1 132 3 view .LVU75
 133:../../../shields/Murata-dualstack/src/modem.c ****   while(fifo_get_size(&rx_fifo) && retries < 50)
 368              		.loc 1 133 3 view .LVU76
 132:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t status = 0;
 369              		.loc 1 132 11 is_stmt 0 view .LVU77
 370 0002 0025     		movs	r5, #0
 131:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t retries = 0;
 371              		.loc 1 131 11 view .LVU78
 372 0004 2C46     		mov	r4, r5
 373              	.LVL21:
 374              	.L27:
 375              		.loc 1 133 8 is_stmt 1 view .LVU79
 376              		.loc 1 133 9 is_stmt 0 view .LVU80
 377 0006 0948     		ldr	r0, .L31
 378 0008 FFF7FEFF 		bl	fifo_get_size
 379              	.LVL22:
 380              		.loc 1 133 8 view .LVU81
 381 000c 58B1     		cbz	r0, .L28
 382              		.loc 1 133 33 discriminator 1 view .LVU82
 383 000e 312C     		cmp	r4, #49
 384 0010 09D8     		bhi	.L28
 385              	.LBB11:
 134:../../../shields/Murata-dualstack/src/modem.c ****   { 
 135:../../../shields/Murata-dualstack/src/modem.c ****     status = (uint8_t)process_rx_fifo(NULL);
 386              		.loc 1 135 5 is_stmt 1 view .LVU83
 387              		.loc 1 135 23 is_stmt 0 view .LVU84
 388 0012 0020     		movs	r0, #0
 389 0014 FFF7FEFF 		bl	process_rx_fifo
 390              	.LVL23:
 391              		.loc 1 135 12 view .LVU85
 392 0018 C5B2     		uxtb	r5, r0
 393              	.LVL24:
 136:../../../shields/Murata-dualstack/src/modem.c ****     HAL_Delay(50);
 394              		.loc 1 136 5 is_stmt 1 view .LVU86
 395 001a 3220     		movs	r0, #50
 396 001c FFF7FEFF 		bl	HAL_Delay
 397              	.LVL25:
 137:../../../shields/Murata-dualstack/src/modem.c ****     retries++;
 398              		.loc 1 137 5 view .LVU87
 399              		.loc 1 137 12 is_stmt 0 view .LVU88
 400 0020 0134     		adds	r4, r4, #1
 401              	.LVL26:
 402              		.loc 1 137 12 view .LVU89
 403 0022 E4B2     		uxtb	r4, r4
 404              	.LVL27:
 405              		.loc 1 137 12 view .LVU90
 406 0024 EFE7     		b	.L27
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 16


 407              	.L28:
 408              		.loc 1 137 12 view .LVU91
 409              	.LBE11:
 138:../../../shields/Murata-dualstack/src/modem.c ****   }
 139:../../../shields/Murata-dualstack/src/modem.c ****   return status;
 410              		.loc 1 139 3 is_stmt 1 view .LVU92
 140:../../../shields/Murata-dualstack/src/modem.c **** }
 411              		.loc 1 140 1 is_stmt 0 view .LVU93
 412 0026 2846     		mov	r0, r5
 413 0028 38BD     		pop	{r3, r4, r5, pc}
 414              	.LVL28:
 415              	.L32:
 416              		.loc 1 140 1 view .LVU94
 417 002a 00BF     		.align	2
 418              	.L31:
 419 002c 00000000 		.word	rx_fifo
 420              		.cfi_endproc
 421              	.LFE129:
 423              		.section	.text.modem_reinit,"ax",%progbits
 424              		.align	1
 425              		.global	modem_reinit
 426              		.syntax unified
 427              		.thumb
 428              		.thumb_func
 429              		.fpu fpv4-sp-d16
 431              	modem_reinit:
 432              	.LFB130:
 141:../../../shields/Murata-dualstack/src/modem.c **** 
 142:../../../shields/Murata-dualstack/src/modem.c **** void modem_reinit() {
 433              		.loc 1 142 21 is_stmt 1 view -0
 434              		.cfi_startproc
 435              		@ args = 0, pretend = 0, frame = 0
 436              		@ frame_needed = 0, uses_anonymous_args = 0
 437              		@ link register save eliminated.
 143:../../../shields/Murata-dualstack/src/modem.c ****   command.is_active = false;
 438              		.loc 1 143 3 view .LVU96
 439              		.loc 1 143 21 is_stmt 0 view .LVU97
 440 0000 014B     		ldr	r3, .L34
 441 0002 0022     		movs	r2, #0
 442 0004 5A70     		strb	r2, [r3, #1]
 144:../../../shields/Murata-dualstack/src/modem.c **** }
 443              		.loc 1 144 1 view .LVU98
 444 0006 7047     		bx	lr
 445              	.L35:
 446              		.align	2
 447              	.L34:
 448 0008 00000000 		.word	.LANCHOR0
 449              		.cfi_endproc
 450              	.LFE130:
 452              		.section	.text.modem_send_ping,"ax",%progbits
 453              		.align	1
 454              		.global	modem_send_ping
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv4-sp-d16
 460              	modem_send_ping:
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 17


 461              	.LFB131:
 145:../../../shields/Murata-dualstack/src/modem.c **** 
 146:../../../shields/Murata-dualstack/src/modem.c **** void modem_send_ping() {
 462              		.loc 1 146 24 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 8
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466 0000 00B5     		push	{lr}
 467              	.LCFI5:
 468              		.cfi_def_cfa_offset 4
 469              		.cfi_offset 14, -4
 470 0002 83B0     		sub	sp, sp, #12
 471              	.LCFI6:
 472              		.cfi_def_cfa_offset 16
 147:../../../shields/Murata-dualstack/src/modem.c ****   uint8_t ping_request[1]={0x01};
 473              		.loc 1 147 3 view .LVU100
 474              		.loc 1 147 11 is_stmt 0 view .LVU101
 475 0004 0121     		movs	r1, #1
 476 0006 8DF80410 		strb	r1, [sp, #4]
 148:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes((uint8_t*) &ping_request, 1, SERIAL_MESSAGE_TYPE_PING_REQUEST);
 477              		.loc 1 148 3 is_stmt 1 view .LVU102
 478 000a 0222     		movs	r2, #2
 479 000c 01A8     		add	r0, sp, #4
 480 000e FFF7FEFF 		bl	modem_interface_transfer_bytes
 481              	.LVL29:
 149:../../../shields/Murata-dualstack/src/modem.c **** }
 482              		.loc 1 149 1 is_stmt 0 view .LVU103
 483 0012 03B0     		add	sp, sp, #12
 484              	.LCFI7:
 485              		.cfi_def_cfa_offset 4
 486              		@ sp needed
 487 0014 5DF804FB 		ldr	pc, [sp], #4
 488              		.cfi_endproc
 489              	.LFE131:
 491              		.section	.text.modem_execute_raw_alp,"ax",%progbits
 492              		.align	1
 493              		.global	modem_execute_raw_alp
 494              		.syntax unified
 495              		.thumb
 496              		.thumb_func
 497              		.fpu fpv4-sp-d16
 499              	modem_execute_raw_alp:
 500              	.LVL30:
 501              	.LFB132:
 150:../../../shields/Murata-dualstack/src/modem.c **** 
 151:../../../shields/Murata-dualstack/src/modem.c **** bool modem_execute_raw_alp(uint8_t* alp, uint8_t len) {
 502              		.loc 1 151 55 is_stmt 1 view -0
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 0
 505              		@ frame_needed = 0, uses_anonymous_args = 0
 506              		.loc 1 151 55 is_stmt 0 view .LVU105
 507 0000 08B5     		push	{r3, lr}
 508              	.LCFI8:
 509              		.cfi_def_cfa_offset 8
 510              		.cfi_offset 3, -8
 511              		.cfi_offset 14, -4
 152:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(alp, len, SERIAL_MESSAGE_TYPE_ALP_DATA);
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 18


 512              		.loc 1 152 3 is_stmt 1 view .LVU106
 513 0002 0122     		movs	r2, #1
 514 0004 FFF7FEFF 		bl	modem_interface_transfer_bytes
 515              	.LVL31:
 153:../../../shields/Murata-dualstack/src/modem.c **** }
 516              		.loc 1 153 1 is_stmt 0 view .LVU107
 517 0008 08BD     		pop	{r3, pc}
 518              		.cfi_endproc
 519              	.LFE132:
 521              		.section	.rodata.alloc_command.str1.4,"aMS",%progbits,1
 522              		.align	2
 523              	.LC3:
 524 0000 70726576 		.ascii	"prev command still active\015\012\000"
 524      20636F6D 
 524      6D616E64 
 524      20737469 
 524      6C6C2061 
 525              		.section	.text.alloc_command,"ax",%progbits
 526              		.align	1
 527              		.global	alloc_command
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 531              		.fpu fpv4-sp-d16
 533              	alloc_command:
 534              	.LFB133:
 154:../../../shields/Murata-dualstack/src/modem.c **** 
 155:../../../shields/Murata-dualstack/src/modem.c **** bool alloc_command() {
 535              		.loc 1 155 22 is_stmt 1 view -0
 536              		.cfi_startproc
 537              		@ args = 0, pretend = 0, frame = 0
 538              		@ frame_needed = 0, uses_anonymous_args = 0
 539 0000 70B5     		push	{r4, r5, r6, lr}
 540              	.LCFI9:
 541              		.cfi_def_cfa_offset 16
 542              		.cfi_offset 4, -16
 543              		.cfi_offset 5, -12
 544              		.cfi_offset 6, -8
 545              		.cfi_offset 14, -4
 156:../../../shields/Murata-dualstack/src/modem.c ****   if(command.is_active) {
 546              		.loc 1 156 3 view .LVU109
 547              		.loc 1 156 13 is_stmt 0 view .LVU110
 548 0002 0F4B     		ldr	r3, .L45
 549 0004 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 550              		.loc 1 156 5 view .LVU111
 551 0006 ABB9     		cbnz	r3, .L44
 157:../../../shields/Murata-dualstack/src/modem.c ****     printINF("prev command still active\r\n");
 158:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 159:../../../shields/Murata-dualstack/src/modem.c ****   }
 160:../../../shields/Murata-dualstack/src/modem.c **** 
 161:../../../shields/Murata-dualstack/src/modem.c ****   command.is_active = true;
 552              		.loc 1 161 3 is_stmt 1 view .LVU112
 553              		.loc 1 161 21 is_stmt 0 view .LVU113
 554 0008 0D4D     		ldr	r5, .L45
 555 000a 0124     		movs	r4, #1
 556 000c 6C70     		strb	r4, [r5, #1]
 162:../../../shields/Murata-dualstack/src/modem.c ****   fifo_init(&command.fifo, command.buffer, CMD_BUFFER_SIZE);
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 19


 557              		.loc 1 162 3 is_stmt 1 view .LVU114
 558 000e 2E1D     		adds	r6, r5, #4
 559 0010 4FF48072 		mov	r2, #256
 560 0014 05F11401 		add	r1, r5, #20
 561 0018 3046     		mov	r0, r6
 562 001a FFF7FEFF 		bl	fifo_init
 563              	.LVL32:
 163:../../../shields/Murata-dualstack/src/modem.c ****   command.tag_id = next_tag_id;
 564              		.loc 1 163 3 view .LVU115
 565              		.loc 1 163 18 is_stmt 0 view .LVU116
 566 001e 094B     		ldr	r3, .L45+4
 567 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 568 0022 2970     		strb	r1, [r5]
 164:../../../shields/Murata-dualstack/src/modem.c ****   next_tag_id++;
 569              		.loc 1 164 3 is_stmt 1 view .LVU117
 570              		.loc 1 164 14 is_stmt 0 view .LVU118
 571 0024 0A19     		adds	r2, r1, r4
 572 0026 1A70     		strb	r2, [r3]
 165:../../../shields/Murata-dualstack/src/modem.c **** 
 166:../../../shields/Murata-dualstack/src/modem.c ****   alp_append_tag_request_action(&command.fifo, command.tag_id, true);
 573              		.loc 1 166 3 is_stmt 1 view .LVU119
 574 0028 2246     		mov	r2, r4
 575 002a 3046     		mov	r0, r6
 576 002c FFF7FEFF 		bl	alp_append_tag_request_action
 577              	.LVL33:
 167:../../../shields/Murata-dualstack/src/modem.c ****   return true;
 578              		.loc 1 167 3 view .LVU120
 579              		.loc 1 167 10 is_stmt 0 view .LVU121
 580 0030 2046     		mov	r0, r4
 581              	.L42:
 168:../../../shields/Murata-dualstack/src/modem.c **** }
 582              		.loc 1 168 1 view .LVU122
 583 0032 70BD     		pop	{r4, r5, r6, pc}
 584              	.L44:
 585              	.LBB12:
 157:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 586              		.loc 1 157 5 is_stmt 1 view .LVU123
 587 0034 0448     		ldr	r0, .L45+8
 588 0036 FFF7FEFF 		bl	printINF
 589              	.LVL34:
 158:../../../shields/Murata-dualstack/src/modem.c ****   }
 590              		.loc 1 158 5 view .LVU124
 158:../../../shields/Murata-dualstack/src/modem.c ****   }
 591              		.loc 1 158 12 is_stmt 0 view .LVU125
 592 003a 0020     		movs	r0, #0
 593 003c F9E7     		b	.L42
 594              	.L46:
 595 003e 00BF     		.align	2
 596              	.L45:
 597 0040 00000000 		.word	.LANCHOR0
 598 0044 00000000 		.word	.LANCHOR2
 599 0048 00000000 		.word	.LC3
 600              	.LBE12:
 601              		.cfi_endproc
 602              	.LFE133:
 604              		.section	.text.modem_read_file,"ax",%progbits
 605              		.align	1
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 20


 606              		.global	modem_read_file
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 610              		.fpu fpv4-sp-d16
 612              	modem_read_file:
 613              	.LVL35:
 614              	.LFB134:
 169:../../../shields/Murata-dualstack/src/modem.c **** 
 170:../../../shields/Murata-dualstack/src/modem.c **** bool modem_read_file(uint8_t file_id, uint32_t offset, uint32_t size) {
 615              		.loc 1 170 71 is_stmt 1 view -0
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 0, uses_anonymous_args = 0
 619              		.loc 1 170 71 is_stmt 0 view .LVU127
 620 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 621              	.LCFI10:
 622              		.cfi_def_cfa_offset 32
 623              		.cfi_offset 4, -32
 624              		.cfi_offset 5, -28
 625              		.cfi_offset 6, -24
 626              		.cfi_offset 7, -20
 627              		.cfi_offset 8, -16
 628              		.cfi_offset 9, -12
 629              		.cfi_offset 10, -8
 630              		.cfi_offset 14, -4
 631 0004 82B0     		sub	sp, sp, #8
 632              	.LCFI11:
 633              		.cfi_def_cfa_offset 40
 634 0006 0746     		mov	r7, r0
 635 0008 0E46     		mov	r6, r1
 636 000a 1446     		mov	r4, r2
 171:../../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 637              		.loc 1 171 3 is_stmt 1 view .LVU128
 638              		.loc 1 171 7 is_stmt 0 view .LVU129
 639 000c FFF7FEFF 		bl	alloc_command
 640              	.LVL36:
 641              		.loc 1 171 5 view .LVU130
 642 0010 0546     		mov	r5, r0
 643 0012 18B9     		cbnz	r0, .L50
 644              	.L48:
 172:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 173:../../../shields/Murata-dualstack/src/modem.c **** 
 174:../../../shields/Murata-dualstack/src/modem.c ****   alp_append_read_file_data_action(&command.fifo, file_id, offset, size, true, false);
 175:../../../shields/Murata-dualstack/src/modem.c **** 
 176:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 177:../../../shields/Murata-dualstack/src/modem.c **** 
 178:../../../shields/Murata-dualstack/src/modem.c ****   return true;
 179:../../../shields/Murata-dualstack/src/modem.c **** }
 645              		.loc 1 179 1 view .LVU131
 646 0014 2846     		mov	r0, r5
 647 0016 02B0     		add	sp, sp, #8
 648              	.LCFI12:
 649              		.cfi_remember_state
 650              		.cfi_def_cfa_offset 32
 651              		@ sp needed
 652 0018 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 21


 653              	.LVL37:
 654              	.L50:
 655              	.LCFI13:
 656              		.cfi_restore_state
 174:../../../shields/Murata-dualstack/src/modem.c **** 
 657              		.loc 1 174 3 is_stmt 1 view .LVU132
 658 001c DFF83080 		ldr	r8, .L51
 659 0020 08F1040A 		add	r10, r8, #4
 660 0024 0023     		movs	r3, #0
 661 0026 0193     		str	r3, [sp, #4]
 662 0028 4FF00109 		mov	r9, #1
 663 002c CDF80090 		str	r9, [sp]
 664 0030 2346     		mov	r3, r4
 665 0032 3246     		mov	r2, r6
 666 0034 3946     		mov	r1, r7
 667 0036 5046     		mov	r0, r10
 668 0038 FFF7FEFF 		bl	alp_append_read_file_data_action
 669              	.LVL38:
 176:../../../shields/Murata-dualstack/src/modem.c **** 
 670              		.loc 1 176 3 view .LVU133
 176:../../../shields/Murata-dualstack/src/modem.c **** 
 671              		.loc 1 176 50 is_stmt 0 view .LVU134
 672 003c 5046     		mov	r0, r10
 673 003e FFF7FEFF 		bl	fifo_get_size
 674              	.LVL39:
 176:../../../shields/Murata-dualstack/src/modem.c **** 
 675              		.loc 1 176 3 view .LVU135
 676 0042 4A46     		mov	r2, r9
 677 0044 C1B2     		uxtb	r1, r0
 678 0046 08F11400 		add	r0, r8, #20
 679 004a FFF7FEFF 		bl	modem_interface_transfer_bytes
 680              	.LVL40:
 178:../../../shields/Murata-dualstack/src/modem.c **** }
 681              		.loc 1 178 3 is_stmt 1 view .LVU136
 178:../../../shields/Murata-dualstack/src/modem.c **** }
 682              		.loc 1 178 10 is_stmt 0 view .LVU137
 683 004e E1E7     		b	.L48
 684              	.L52:
 685              		.align	2
 686              	.L51:
 687 0050 00000000 		.word	.LANCHOR0
 688              		.cfi_endproc
 689              	.LFE134:
 691              		.section	.text.modem_write_file,"ax",%progbits
 692              		.align	1
 693              		.global	modem_write_file
 694              		.syntax unified
 695              		.thumb
 696              		.thumb_func
 697              		.fpu fpv4-sp-d16
 699              	modem_write_file:
 700              	.LVL41:
 701              	.LFB135:
 180:../../../shields/Murata-dualstack/src/modem.c **** 
 181:../../../shields/Murata-dualstack/src/modem.c **** bool modem_write_file(uint8_t file_id, uint32_t offset, uint32_t size, uint8_t* data) {
 702              		.loc 1 181 87 is_stmt 1 view -0
 703              		.cfi_startproc
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 22


 704              		@ args = 0, pretend = 0, frame = 0
 705              		@ frame_needed = 0, uses_anonymous_args = 0
 706              		.loc 1 181 87 is_stmt 0 view .LVU139
 707 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 708              	.LCFI14:
 709              		.cfi_def_cfa_offset 36
 710              		.cfi_offset 4, -36
 711              		.cfi_offset 5, -32
 712              		.cfi_offset 6, -28
 713              		.cfi_offset 7, -24
 714              		.cfi_offset 8, -20
 715              		.cfi_offset 9, -16
 716              		.cfi_offset 10, -12
 717              		.cfi_offset 11, -8
 718              		.cfi_offset 14, -4
 719 0004 85B0     		sub	sp, sp, #20
 720              	.LCFI15:
 721              		.cfi_def_cfa_offset 56
 722 0006 0446     		mov	r4, r0
 723 0008 8846     		mov	r8, r1
 724 000a 1746     		mov	r7, r2
 725 000c 1E46     		mov	r6, r3
 182:../../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 726              		.loc 1 182 3 is_stmt 1 view .LVU140
 727              		.loc 1 182 7 is_stmt 0 view .LVU141
 728 000e FFF7FEFF 		bl	alloc_command
 729              	.LVL42:
 730              		.loc 1 182 5 view .LVU142
 731 0012 0546     		mov	r5, r0
 732 0014 18B9     		cbnz	r0, .L56
 733              	.L54:
 183:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 184:../../../shields/Murata-dualstack/src/modem.c **** 
 185:../../../shields/Murata-dualstack/src/modem.c ****   alp_append_write_file_data_action(&command.fifo, file_id, offset, size, data, true, false);
 186:../../../shields/Murata-dualstack/src/modem.c **** 
 187:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 188:../../../shields/Murata-dualstack/src/modem.c **** 
 189:../../../shields/Murata-dualstack/src/modem.c ****   return true;
 190:../../../shields/Murata-dualstack/src/modem.c **** }
 734              		.loc 1 190 1 view .LVU143
 735 0016 2846     		mov	r0, r5
 736 0018 05B0     		add	sp, sp, #20
 737              	.LCFI16:
 738              		.cfi_remember_state
 739              		.cfi_def_cfa_offset 36
 740              		@ sp needed
 741 001a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 742              	.LVL43:
 743              	.L56:
 744              	.LCFI17:
 745              		.cfi_restore_state
 185:../../../shields/Murata-dualstack/src/modem.c **** 
 746              		.loc 1 185 3 is_stmt 1 view .LVU144
 747 001e DFF83490 		ldr	r9, .L57
 748 0022 09F1040B 		add	fp, r9, #4
 749 0026 0023     		movs	r3, #0
 750 0028 0293     		str	r3, [sp, #8]
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 23


 751 002a 4FF0010A 		mov	r10, #1
 752 002e CDF804A0 		str	r10, [sp, #4]
 753 0032 0096     		str	r6, [sp]
 754 0034 3B46     		mov	r3, r7
 755 0036 4246     		mov	r2, r8
 756 0038 2146     		mov	r1, r4
 757 003a 5846     		mov	r0, fp
 758 003c FFF7FEFF 		bl	alp_append_write_file_data_action
 759              	.LVL44:
 187:../../../shields/Murata-dualstack/src/modem.c **** 
 760              		.loc 1 187 3 view .LVU145
 187:../../../shields/Murata-dualstack/src/modem.c **** 
 761              		.loc 1 187 50 is_stmt 0 view .LVU146
 762 0040 5846     		mov	r0, fp
 763 0042 FFF7FEFF 		bl	fifo_get_size
 764              	.LVL45:
 187:../../../shields/Murata-dualstack/src/modem.c **** 
 765              		.loc 1 187 3 view .LVU147
 766 0046 5246     		mov	r2, r10
 767 0048 C1B2     		uxtb	r1, r0
 768 004a 09F11400 		add	r0, r9, #20
 769 004e FFF7FEFF 		bl	modem_interface_transfer_bytes
 770              	.LVL46:
 189:../../../shields/Murata-dualstack/src/modem.c **** }
 771              		.loc 1 189 3 is_stmt 1 view .LVU148
 189:../../../shields/Murata-dualstack/src/modem.c **** }
 772              		.loc 1 189 10 is_stmt 0 view .LVU149
 773 0052 E0E7     		b	.L54
 774              	.L58:
 775              		.align	2
 776              	.L57:
 777 0054 00000000 		.word	.LANCHOR0
 778              		.cfi_endproc
 779              	.LFE135:
 781              		.section	.text.modem_send_unsolicited_response,"ax",%progbits
 782              		.align	1
 783              		.global	modem_send_unsolicited_response
 784              		.syntax unified
 785              		.thumb
 786              		.thumb_func
 787              		.fpu fpv4-sp-d16
 789              	modem_send_unsolicited_response:
 790              	.LVL47:
 791              	.LFB136:
 191:../../../shields/Murata-dualstack/src/modem.c **** 
 192:../../../shields/Murata-dualstack/src/modem.c **** bool modem_send_unsolicited_response(uint8_t file_id, uint32_t offset, uint32_t length, uint8_t* da
 193:../../../shields/Murata-dualstack/src/modem.c ****                                      session_config_t* session_config) {
 792              		.loc 1 193 72 is_stmt 1 view -0
 793              		.cfi_startproc
 794              		@ args = 4, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796              		.loc 1 193 72 is_stmt 0 view .LVU151
 797 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 798              	.LCFI18:
 799              		.cfi_def_cfa_offset 32
 800              		.cfi_offset 4, -32
 801              		.cfi_offset 5, -28
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 24


 802              		.cfi_offset 6, -24
 803              		.cfi_offset 7, -20
 804              		.cfi_offset 8, -16
 805              		.cfi_offset 9, -12
 806              		.cfi_offset 10, -8
 807              		.cfi_offset 14, -4
 808 0004 82B0     		sub	sp, sp, #8
 809              	.LCFI19:
 810              		.cfi_def_cfa_offset 40
 811 0006 0446     		mov	r4, r0
 812 0008 0D46     		mov	r5, r1
 813 000a 1646     		mov	r6, r2
 814 000c 9946     		mov	r9, r3
 815 000e 0A9F     		ldr	r7, [sp, #40]
 194:../../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 816              		.loc 1 194 3 is_stmt 1 view .LVU152
 817              		.loc 1 194 7 is_stmt 0 view .LVU153
 818 0010 FFF7FEFF 		bl	alloc_command
 819              	.LVL48:
 820              		.loc 1 194 5 view .LVU154
 821 0014 8046     		mov	r8, r0
 822 0016 C8B1     		cbz	r0, .L60
 195:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 196:../../../shields/Murata-dualstack/src/modem.c **** 
 197:../../../shields/Murata-dualstack/src/modem.c ****   if(session_config->interface_type==DASH7)
 823              		.loc 1 197 3 is_stmt 1 view .LVU155
 824              		.loc 1 197 20 is_stmt 0 view .LVU156
 825 0018 3A78     		ldrb	r2, [r7]	@ zero_extendqisi2
 826              		.loc 1 197 5 view .LVU157
 827 001a DAB1     		cbz	r2, .L65
 198:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 199:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 828              		.loc 1 199 8 is_stmt 1 view .LVU158
 829              		.loc 1 199 10 is_stmt 0 view .LVU159
 830 001c 012A     		cmp	r2, #1
 831 001e 20D0     		beq	.L66
 200:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 201:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 832              		.loc 1 201 8 is_stmt 1 view .LVU160
 833              		.loc 1 201 10 is_stmt 0 view .LVU161
 834 0020 022A     		cmp	r2, #2
 835 0022 25D0     		beq	.L67
 836              	.L62:
 202:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 203:../../../shields/Murata-dualstack/src/modem.c **** 
 204:../../../shields/Murata-dualstack/src/modem.c ****   alp_append_return_file_data_action(&command.fifo, file_id, offset, length, data);
 837              		.loc 1 204 3 is_stmt 1 view .LVU162
 838 0024 164F     		ldr	r7, .L68
 839 0026 07F1040A 		add	r10, r7, #4
 840 002a CDF80090 		str	r9, [sp]
 841 002e 3346     		mov	r3, r6
 842 0030 2A46     		mov	r2, r5
 843 0032 2146     		mov	r1, r4
 844 0034 5046     		mov	r0, r10
 845 0036 FFF7FEFF 		bl	alp_append_return_file_data_action
 846              	.LVL49:
 205:../../../shields/Murata-dualstack/src/modem.c **** 
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 25


 206:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 847              		.loc 1 206 3 view .LVU163
 848              		.loc 1 206 50 is_stmt 0 view .LVU164
 849 003a 5046     		mov	r0, r10
 850 003c FFF7FEFF 		bl	fifo_get_size
 851              	.LVL50:
 852              		.loc 1 206 3 view .LVU165
 853 0040 0122     		movs	r2, #1
 854 0042 C1B2     		uxtb	r1, r0
 855 0044 07F11400 		add	r0, r7, #20
 856 0048 FFF7FEFF 		bl	modem_interface_transfer_bytes
 857              	.LVL51:
 207:../../../shields/Murata-dualstack/src/modem.c ****   return true;
 858              		.loc 1 207 3 is_stmt 1 view .LVU166
 859              	.L60:
 208:../../../shields/Murata-dualstack/src/modem.c **** }
 860              		.loc 1 208 1 is_stmt 0 view .LVU167
 861 004c 4046     		mov	r0, r8
 862 004e 02B0     		add	sp, sp, #8
 863              	.LCFI20:
 864              		.cfi_remember_state
 865              		.cfi_def_cfa_offset 32
 866              		@ sp needed
 867 0050 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 868              	.LVL52:
 869              	.L65:
 870              	.LCFI21:
 871              		.cfi_restore_state
 198:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 872              		.loc 1 198 5 is_stmt 1 view .LVU168
 873 0054 0C23     		movs	r3, #12
 874 0056 3A1D     		adds	r2, r7, #4
 875 0058 D721     		movs	r1, #215
 876 005a 0A48     		ldr	r0, .L68+4
 877 005c FFF7FEFF 		bl	alp_append_forward_action
 878              	.LVL53:
 879 0060 E0E7     		b	.L62
 880              	.L66:
 200:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 881              		.loc 1 200 5 view .LVU169
 882 0062 2423     		movs	r3, #36
 883 0064 3A1D     		adds	r2, r7, #4
 884 0066 0321     		movs	r1, #3
 885 0068 0648     		ldr	r0, .L68+4
 886 006a FFF7FEFF 		bl	alp_append_forward_action
 887              	.LVL54:
 888 006e D9E7     		b	.L62
 889              	.L67:
 202:../../../shields/Murata-dualstack/src/modem.c **** 
 890              		.loc 1 202 5 view .LVU170
 891 0070 2C23     		movs	r3, #44
 892 0072 3A1D     		adds	r2, r7, #4
 893 0074 0221     		movs	r1, #2
 894 0076 0348     		ldr	r0, .L68+4
 895 0078 FFF7FEFF 		bl	alp_append_forward_action
 896              	.LVL55:
 897 007c D2E7     		b	.L62
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 26


 898              	.L69:
 899 007e 00BF     		.align	2
 900              	.L68:
 901 0080 00000000 		.word	.LANCHOR0
 902 0084 04000000 		.word	.LANCHOR0+4
 903              		.cfi_endproc
 904              	.LFE136:
 906              		.section	.text.modem_send_raw_unsolicited_response,"ax",%progbits
 907              		.align	1
 908              		.global	modem_send_raw_unsolicited_response
 909              		.syntax unified
 910              		.thumb
 911              		.thumb_func
 912              		.fpu fpv4-sp-d16
 914              	modem_send_raw_unsolicited_response:
 915              	.LVL56:
 916              	.LFB137:
 209:../../../shields/Murata-dualstack/src/modem.c **** 
 210:../../../shields/Murata-dualstack/src/modem.c **** bool modem_send_raw_unsolicited_response(uint8_t* alp_command, uint32_t length,
 211:../../../shields/Murata-dualstack/src/modem.c ****                                          session_config_t* session_config) {
 917              		.loc 1 211 76 view -0
 918              		.cfi_startproc
 919              		@ args = 0, pretend = 0, frame = 0
 920              		@ frame_needed = 0, uses_anonymous_args = 0
 921              		.loc 1 211 76 is_stmt 0 view .LVU172
 922 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 923              	.LCFI22:
 924              		.cfi_def_cfa_offset 24
 925              		.cfi_offset 4, -24
 926              		.cfi_offset 5, -20
 927              		.cfi_offset 6, -16
 928              		.cfi_offset 7, -12
 929              		.cfi_offset 8, -8
 930              		.cfi_offset 14, -4
 931 0004 0746     		mov	r7, r0
 932 0006 0E46     		mov	r6, r1
 933 0008 1446     		mov	r4, r2
 212:../../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 934              		.loc 1 212 3 is_stmt 1 view .LVU173
 935              		.loc 1 212 7 is_stmt 0 view .LVU174
 936 000a FFF7FEFF 		bl	alloc_command
 937              	.LVL57:
 938              		.loc 1 212 5 view .LVU175
 939 000e 0546     		mov	r5, r0
 940 0010 B0B1     		cbz	r0, .L71
 213:../../../shields/Murata-dualstack/src/modem.c ****     return false;
 214:../../../shields/Murata-dualstack/src/modem.c **** 
 215:../../../shields/Murata-dualstack/src/modem.c ****    if(session_config->interface_type==DASH7)
 941              		.loc 1 215 4 is_stmt 1 view .LVU176
 942              		.loc 1 215 21 is_stmt 0 view .LVU177
 943 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 944              		.loc 1 215 6 view .LVU178
 945 0014 BBB1     		cbz	r3, .L76
 216:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 217:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 946              		.loc 1 217 8 is_stmt 1 view .LVU179
 947              		.loc 1 217 10 is_stmt 0 view .LVU180
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 27


 948 0016 012B     		cmp	r3, #1
 949 0018 1CD0     		beq	.L77
 218:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 219:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 950              		.loc 1 219 8 is_stmt 1 view .LVU181
 951              		.loc 1 219 10 is_stmt 0 view .LVU182
 952 001a 022B     		cmp	r3, #2
 953 001c 21D0     		beq	.L78
 954              	.L73:
 220:../../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 221:../../../shields/Murata-dualstack/src/modem.c **** 
 222:../../../shields/Murata-dualstack/src/modem.c ****   fifo_put(&command.fifo, alp_command, length);
 955              		.loc 1 222 3 is_stmt 1 view .LVU183
 956 001e 144C     		ldr	r4, .L79
 957              	.LVL58:
 958              		.loc 1 222 3 is_stmt 0 view .LVU184
 959 0020 04F10408 		add	r8, r4, #4
 960 0024 B2B2     		uxth	r2, r6
 961 0026 3946     		mov	r1, r7
 962 0028 4046     		mov	r0, r8
 963 002a FFF7FEFF 		bl	fifo_put
 964              	.LVL59:
 223:../../../shields/Murata-dualstack/src/modem.c **** 
 224:../../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 965              		.loc 1 224 3 is_stmt 1 view .LVU185
 966              		.loc 1 224 50 is_stmt 0 view .LVU186
 967 002e 4046     		mov	r0, r8
 968 0030 FFF7FEFF 		bl	fifo_get_size
 969              	.LVL60:
 970              		.loc 1 224 3 view .LVU187
 971 0034 0122     		movs	r2, #1
 972 0036 C1B2     		uxtb	r1, r0
 973 0038 04F11400 		add	r0, r4, #20
 974 003c FFF7FEFF 		bl	modem_interface_transfer_bytes
 975              	.LVL61:
 225:../../../shields/Murata-dualstack/src/modem.c ****   return true;
 976              		.loc 1 225 3 is_stmt 1 view .LVU188
 977              	.L71:
 226:../../../shields/Murata-dualstack/src/modem.c **** }
 978              		.loc 1 226 1 is_stmt 0 view .LVU189
 979 0040 2846     		mov	r0, r5
 980 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 981              	.LVL62:
 982              	.L76:
 216:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 983              		.loc 1 216 5 is_stmt 1 view .LVU190
 984 0046 0C23     		movs	r3, #12
 985 0048 221D     		adds	r2, r4, #4
 986 004a D721     		movs	r1, #215
 987 004c 0948     		ldr	r0, .L79+4
 988 004e FFF7FEFF 		bl	alp_append_forward_action
 989              	.LVL63:
 990 0052 E4E7     		b	.L73
 991              	.L77:
 218:../../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 992              		.loc 1 218 5 view .LVU191
 993 0054 2423     		movs	r3, #36
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 28


 994 0056 221D     		adds	r2, r4, #4
 995 0058 0321     		movs	r1, #3
 996 005a 0648     		ldr	r0, .L79+4
 997 005c FFF7FEFF 		bl	alp_append_forward_action
 998              	.LVL64:
 999 0060 DDE7     		b	.L73
 1000              	.L78:
 220:../../../shields/Murata-dualstack/src/modem.c **** 
 1001              		.loc 1 220 5 view .LVU192
 1002 0062 2C23     		movs	r3, #44
 1003 0064 221D     		adds	r2, r4, #4
 1004 0066 0221     		movs	r1, #2
 1005 0068 0248     		ldr	r0, .L79+4
 1006 006a FFF7FEFF 		bl	alp_append_forward_action
 1007              	.LVL65:
 1008 006e D6E7     		b	.L73
 1009              	.L80:
 1010              		.align	2
 1011              	.L79:
 1012 0070 00000000 		.word	.LANCHOR0
 1013 0074 04000000 		.word	.LANCHOR0+4
 1014              		.cfi_endproc
 1015              	.LFE137:
 1017              		.section	.text.modem_get_active_tag_id,"ax",%progbits
 1018              		.align	1
 1019              		.global	modem_get_active_tag_id
 1020              		.syntax unified
 1021              		.thumb
 1022              		.thumb_func
 1023              		.fpu fpv4-sp-d16
 1025              	modem_get_active_tag_id:
 1026              	.LFB138:
 227:../../../shields/Murata-dualstack/src/modem.c **** 
 228:../../../shields/Murata-dualstack/src/modem.c **** uint8_t modem_get_active_tag_id()
 229:../../../shields/Murata-dualstack/src/modem.c **** {
 1027              		.loc 1 229 1 view -0
 1028              		.cfi_startproc
 1029              		@ args = 0, pretend = 0, frame = 0
 1030              		@ frame_needed = 0, uses_anonymous_args = 0
 1031              		@ link register save eliminated.
 230:../../../shields/Murata-dualstack/src/modem.c ****   return next_tag_id;
 1032              		.loc 1 230 3 view .LVU194
 231:../../../shields/Murata-dualstack/src/modem.c **** }
 1033              		.loc 1 231 1 is_stmt 0 view .LVU195
 1034 0000 014B     		ldr	r3, .L82
 1035 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1036 0004 7047     		bx	lr
 1037              	.L83:
 1038 0006 00BF     		.align	2
 1039              	.L82:
 1040 0008 00000000 		.word	.LANCHOR2
 1041              		.cfi_endproc
 1042              	.LFE138:
 1044              		.section	.bss.callbacks,"aw",%nobits
 1045              		.align	2
 1046              		.set	.LANCHOR1,. + 0
 1049              	callbacks:
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 29


 1050 0000 00000000 		.space	4
 1051              		.section	.bss.command,"aw",%nobits
 1052              		.align	2
 1053              		.set	.LANCHOR0,. + 0
 1056              	command:
 1057 0000 00000000 		.space	276
 1057      00000000 
 1057      00000000 
 1057      00000000 
 1057      00000000 
 1058              		.section	.bss.next_tag_id,"aw",%nobits
 1059              		.set	.LANCHOR2,. + 0
 1062              	next_tag_id:
 1063 0000 00       		.space	1
 1064              		.text
 1065              	.Letext0:
 1066              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 1067              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 1068              		.file 5 "../../../shields/Murata-dualstack/inc/lorawan_stack.h"
 1069              		.file 6 "../../../shields/Murata-dualstack/inc/fifo.h"
 1070              		.file 7 "../../../shields/Murata-dualstack/inc/alp.h"
 1071              		.file 8 "../../../core/ST/CMSIS/Include/core_cm4.h"
 1072              		.file 9 "../../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 1073              		.file 10 "../../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1074              		.file 11 "../../../shields/Murata-dualstack/inc/modem_interface.h"
 1075              		.file 12 "../../../shields/Murata-dualstack/inc/modem.h"
 1076              		.file 13 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1077              		.file 14 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1078              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eab
 1079              		.file 16 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1080              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1081              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1082              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 1083              		.file 20 "<built-in>"
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 modem.c
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:18     .rodata.process_serial_frame.str1.4:00000000 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:28     .text.process_serial_frame:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:35     .text.process_serial_frame:00000000 process_serial_frame
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:207    .text.process_serial_frame:000000b8 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:239    .text.process_serial_frame:00000138 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:277    .text.process_serial_frame:00000154 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:285    .text.modem_cb_init:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:292    .text.modem_cb_init:00000000 modem_cb_init
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:338    .text.modem_cb_init:00000020 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:345    .text.modem_process_fifo:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:352    .text.modem_process_fifo:00000000 modem_process_fifo
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:419    .text.modem_process_fifo:0000002c $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:424    .text.modem_reinit:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:431    .text.modem_reinit:00000000 modem_reinit
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:448    .text.modem_reinit:00000008 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:453    .text.modem_send_ping:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:460    .text.modem_send_ping:00000000 modem_send_ping
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:492    .text.modem_execute_raw_alp:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:499    .text.modem_execute_raw_alp:00000000 modem_execute_raw_alp
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:522    .rodata.alloc_command.str1.4:00000000 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:526    .text.alloc_command:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:533    .text.alloc_command:00000000 alloc_command
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:597    .text.alloc_command:00000040 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:605    .text.modem_read_file:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:612    .text.modem_read_file:00000000 modem_read_file
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:687    .text.modem_read_file:00000050 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:692    .text.modem_write_file:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:699    .text.modem_write_file:00000000 modem_write_file
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:777    .text.modem_write_file:00000054 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:782    .text.modem_send_unsolicited_response:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:789    .text.modem_send_unsolicited_response:00000000 modem_send_unsolicited_response
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:901    .text.modem_send_unsolicited_response:00000080 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:907    .text.modem_send_raw_unsolicited_response:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:914    .text.modem_send_raw_unsolicited_response:00000000 modem_send_raw_unsolicited_response
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1012   .text.modem_send_raw_unsolicited_response:00000070 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1018   .text.modem_get_active_tag_id:00000000 $t
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1025   .text.modem_get_active_tag_id:00000000 modem_get_active_tag_id
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1040   .text.modem_get_active_tag_id:00000008 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1045   .bss.callbacks:00000000 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1049   .bss.callbacks:00000000 callbacks
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1052   .bss.command:00000000 $d
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1056   .bss.command:00000000 command
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1062   .bss.next_tag_id:00000000 next_tag_id
C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s:1063   .bss.next_tag_id:00000000 $d

UNDEFINED SYMBOLS
printf
puts
fifo_get_size
alp_parse_action
modem_interface_register_handler
modem_interface_set_target_rebooted_callback
process_rx_fifo
HAL_Delay
rx_fifo
ARM GAS  C:\Users\tijsv\AppData\Local\Temp\ccVPQMl1.s 			page 31


modem_interface_transfer_bytes
fifo_init
alp_append_tag_request_action
printINF
alp_append_read_file_data_action
alp_append_write_file_data_action
alp_append_return_file_data_action
alp_append_forward_action
fifo_put
